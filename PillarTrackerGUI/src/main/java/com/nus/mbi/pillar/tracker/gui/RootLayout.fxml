<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.shape.*?>
<?import javafx.scene.effect.*?>
<?import java.lang.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<TilePane alignment="CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="417.0" prefWidth="686.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.nus.mbi.pillar.tracker.gui.RootLayoutController">
   <children>
      <TabPane fx:id="tabs_pane" onKeyPressed="#shortcutKeyTabs" prefHeight="402.0" prefWidth="680.0" side="BOTTOM" tabClosingPolicy="UNAVAILABLE">
        <tabs>
            <Tab style="-fx-font-size: 12px;" text="Properties">
              <content>
                <AnchorPane fx:id="pane_properties" minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <HBox alignment="CENTER" layoutX="562.0" layoutY="21.0">
                           <children>
                              <TextField fx:id="textfiled_unit_pixel" layoutX="542.0" layoutY="8.0" prefHeight="25.0" prefWidth="61.0" style="-fx-font-size: 12px;" />
                              <Label layoutX="603.0" layoutY="12.0" style="-fx-font-size: 12px;" text="pixel" />
                           </children>
                        </HBox>
                        <HBox alignment="CENTER" layoutX="336.0" layoutY="21.0">
                           <children>
                              <TextField fx:id="textfiled_unit_nm" layoutX="336.0" layoutY="8.0" prefHeight="25.0" prefWidth="57.0" style="-fx-font-size: 12px;" />
                              <Label layoutX="395.0" layoutY="12.0" style="-fx-font-size: 12px;" text="nm" />
                           </children>
                        </HBox>
                        <HBox alignment="CENTER" layoutX="14.0" layoutY="21.0">
                           <children>
                              <Label layoutX="19.0" layoutY="12.0" style="-fx-font-size: 12px;" text="Pixel Size (nm):" />
                              <TextField fx:id="textfiled_pixel_size" layoutX="103.0" layoutY="8.0" prefHeight="25.0" prefWidth="89.0" style="-fx-font-size: 12px;" />
                           </children>
                        </HBox>
                        <Separator layoutX="14.0" layoutY="54.0" prefHeight="7.0" prefWidth="644.0" />
                        <Button fx:id="button_pillar_detection" layoutX="216.0" layoutY="288.0" mnemonicParsing="false" onAction="#handleButtonDetection" prefHeight="30.0" prefWidth="225.0" style="-fx-font-size: 12px;" text="Fast Detect Pillar">
                           <contextMenu>
                              <ContextMenu>
                                <items>
                                  <MenuItem mnemonicParsing="false" onAction="#handleMenuFindMaxima" text="Find Maxima..." />
                                  <MenuItem mnemonicParsing="false" onAction="#handleMenuThresholdPoints" text="Threshold Multi-Point Selections" />
                                    <CheckMenuItem fx:id="meun_apply_rank_filter" mnemonicParsing="false" text="Apply Smooth Filter to Detection?" />
                                </items>
                              </ContextMenu>
                           </contextMenu>
                        </Button>
                        <HBox layoutX="456.0" layoutY="21.0">
                           <children>
                              <ToggleButton fx:id="toggle_converter_back" layoutX="441.0" layoutY="8.0" mnemonicParsing="false" onAction="#handleToggleBackward" style="-fx-font-size: 12px;" text="&lt;&lt;">
                                 <toggleGroup>
                                    <ToggleGroup fx:id="converter_group" />
                                 </toggleGroup>
                              </ToggleButton>
                              <ToggleButton fx:id="toggle_converter_forward" layoutX="474.0" layoutY="8.0" mnemonicParsing="false" onAction="#handleToggleForward" style="-fx-font-size: 12px;" text="&gt;&gt;" toggleGroup="$converter_group" />
                           </children>
                        </HBox>
                        <CheckBox fx:id="checkbox_pixel_unit" layoutX="200.0" layoutY="25.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Pixel Unit?" />
                        <GridPane alignment="CENTER_LEFT" layoutX="44.0" layoutY="73.0" prefHeight="198.0" prefWidth="568.0">
                          <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" hgrow="ALWAYS" maxWidth="175.0" minWidth="10.0" prefWidth="175.0" />
                            <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" maxWidth="149.0" minWidth="10.0" prefWidth="78.0" />
                              <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" maxWidth="175.0" minWidth="10.0" prefWidth="155.0" />
                              <ColumnConstraints halignment="RIGHT" hgrow="ALWAYS" maxWidth="162.0" minWidth="10.0" prefWidth="144.0" />
                              <ColumnConstraints hgrow="SOMETIMES" maxWidth="96.0" minWidth="6.0" prefWidth="16.0" />
                          </columnConstraints>
                          <rowConstraints>
                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                          </rowConstraints>
                           <children>
                              <Label alignment="CENTER_RIGHT" contentDisplay="RIGHT" prefHeight="25.0" prefWidth="150.0" style="-fx-font-size: 12px;" text="Pillar Spacing (Pixel):" />
                              <Label alignment="CENTER_RIGHT" contentDisplay="RIGHT" prefHeight="25.0" prefWidth="150.0" style="-fx-font-size: 12px;" text="Grid Oblique (degree):" GridPane.rowIndex="1" />
                              <Label alignment="CENTER_RIGHT" contentDisplay="RIGHT" prefHeight="25.0" prefWidth="150.0" style="-fx-font-size: 12px;" text="Grid Angle (degree):" GridPane.rowIndex="2" />
                              <Label alignment="CENTER_RIGHT" contentDisplay="RIGHT" prefHeight="25.0" prefWidth="150.0" style="-fx-font-size: 12px;" text="Pillar Diameter (Pixel):" GridPane.rowIndex="4" />
                              <TextField fx:id="textfiled_spacing" prefHeight="25.0" prefWidth="99.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" />
                              <TextField fx:id="textfiled_grid_oblique" prefHeight="25.0" prefWidth="99.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              <TextField fx:id="textfiled_grid_angle" prefHeight="25.0" prefWidth="99.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              <TextField fx:id="textfiled_diameter" prefHeight="25.0" prefWidth="99.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                              <TextField fx:id="textfiled_gauss_sigma" prefHeight="25.0" prefWidth="99.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                              <Button fx:id="button_FFT" mnemonicParsing="false" onAction="#handleButtonFFT" prefHeight="25.0" prefWidth="145.0" style="-fx-font-size: 12px;" text="FFT / Inverse FFT" GridPane.columnIndex="2" />
                              <Button fx:id="button_preview_grid" mnemonicParsing="false" onAction="#handleButtonPreviewGrid" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Preview Grid" GridPane.columnIndex="3" GridPane.rowIndex="1" />
                              <Button fx:id="button_remove_overlays" mnemonicParsing="false" onAction="#handleButtonRemoveOverlays" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Remove Overlay" GridPane.columnIndex="3" GridPane.rowIndex="2" />
                              <CheckBox fx:id="checkbox_square_grid" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Is Square Grid?" GridPane.columnIndex="2" GridPane.rowIndex="2" />
                              <Button fx:id="testButton" mnemonicParsing="false" onAction="#handleButtonAction" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Curve Fit" GridPane.columnIndex="3" GridPane.rowIndex="3" />
                              <Label alignment="CENTER_RIGHT" contentDisplay="RIGHT" prefHeight="25.0" prefWidth="150.0" style="-fx-font-size: 12px;" text="Gaussian Sigma (Pixel):" GridPane.rowIndex="3" />
                              <CheckBox fx:id="checkbox_dark_pillar" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Is Dark Pillar?   " GridPane.columnIndex="2" GridPane.rowIndex="3" />
                              <Button fx:id="button_extract_PSF" mnemonicParsing="false" onAction="#handleButtonExtactPSF" prefHeight="25.0" prefWidth="145.0" style="-fx-font-size: 12px;" text="Extract Kernel" GridPane.columnIndex="2" GridPane.rowIndex="4" />
                              <Button fx:id="button_cross_correlation" mnemonicParsing="false" onAction="#handleButtonCrossCorrelation" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Enhance Image" GridPane.columnIndex="3" GridPane.rowIndex="5" />
                              <Button fx:id="button_set_PSF" mnemonicParsing="false" onAction="#handleButtonSetKenel" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Set Kernel" GridPane.columnIndex="3" GridPane.rowIndex="4" />
                              <CheckBox fx:id="checkbox_apply_enhancement" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Apply Kernel?" textAlignment="JUSTIFY" GridPane.rowIndex="5" />
                              <Button fx:id="button_show_current_kernel" mnemonicParsing="false" onAction="#handleButtonShowCurrentKernel" prefHeight="25.0" prefWidth="146.0" style="-fx-font-size: 12px;" text="Show Current Kernel" GridPane.columnIndex="2" GridPane.rowIndex="5" />
                              <Button mnemonicParsing="false" onAction="#handleButtonSetMaskHighPass" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Set Mask in FD" GridPane.columnIndex="3">
                                 <contextMenu>
                                    <ContextMenu>
                                       <items>
                                          <MenuItem mnemonicParsing="false" onAction="#handleMenuFindMaxima" text="Find Maxima..." />
                                       </items>
                                    </ContextMenu>
                                 </contextMenu></Button>
                              <Button mnemonicParsing="false" onAction="#handleButtonHighPassFFT" prefHeight="25.0" prefWidth="145.0" style="-fx-font-size: 12px;" text="Mask Filter in FD" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                           </children>
                        </GridPane>
                        <CheckBox fx:id="checkbox_show_current_kernel" layoutX="74.0" layoutY="294.0" mnemonicParsing="false" text="Show Current Kernel?" visible="false" />
                     </children>
                  </AnchorPane>
              </content>
            </Tab>
          <Tab style="-fx-font-size: 12px;" text="  Tracking  ">
            <content>
              <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <HBox alignment="CENTER" layoutX="26.0" layoutY="14.0">
                           <children>
                              <Label layoutX="25.0" layoutY="10.0" style="-fx-font-size: 12px;" text="Input Image:" />
                              <ComboBox fx:id="combo_images" layoutX="97.0" layoutY="6.0" prefHeight="25.0" prefWidth="547.0" style="-fx-font-size: 12px;" />
                           </children>
                        </HBox>
                      <TitledPane layoutX="25.0" layoutY="59.0" onKeyPressed="#shortcutKeyPanes" prefHeight="271.0" prefWidth="606.0" style="-fx-font-size: 12px;" text="Tracking">
                        <content>
                          <AnchorPane>
                                 <children>
                                    <Button fx:id="button_do_tracking" layoutX="460.0" layoutY="163.0" mnemonicParsing="false" onAction="#handleButtonDoTracking" prefHeight="25.0" prefWidth="134.0" style="-fx-font-size: 12px;" text="Track &amp; Optimize" />
                                    <HBox alignment="CENTER" layoutX="21.0" layoutY="206.0">
                                       <children>
                                          <Label layoutX="21.0" layoutY="187.0" style="-fx-font-size: 12px;" text="Save to:" />
                                          <TextField fx:id="textfiled_output_fname" layoutX="70.0" layoutY="183.0" prefHeight="25.0" prefWidth="438.0" style="-fx-font-size: 12px;" />
                                          <Button fx:id="button_browse_save_track_file" layoutX="514.0" layoutY="183.0" mnemonicParsing="false" onAction="#handleButtonBrowseTrackSaveFile" prefHeight="25.0" prefWidth="93.0" style="-fx-font-size: 12px;" text="Browse ..." />
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER" layoutX="30.0" layoutY="163.0">
                                       <children>
                                          <Label layoutX="63.0" layoutY="167.0" style="-fx-font-size: 12px;" text="Number of Threads:" />
                                          <TextField fx:id="textfiled_num_threads" layoutX="169.0" layoutY="163.0" prefHeight="25.0" prefWidth="55.0" style="-fx-font-size: 12px;" />
                                       </children>
                                    </HBox>
                                    <GridPane alignment="CENTER" layoutX="97.0" layoutY="14.0" prefHeight="133.0" prefWidth="369.0">
                                      <columnConstraints>
                                        <ColumnConstraints halignment="RIGHT" hgrow="ALWAYS" maxWidth="260.0" minWidth="10.0" prefWidth="198.0" />
                                        <ColumnConstraints halignment="LEFT" hgrow="ALWAYS" maxWidth="189.0" minWidth="10.0" prefWidth="167.0" />
                                      </columnConstraints>
                                      <rowConstraints>
                                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                          <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                      </rowConstraints>
                                       <children>
                                          <Label alignment="CENTER_RIGHT" prefHeight="17.0" prefWidth="198.0" style="-fx-font-size: 12px;" text="Localization Algorithm:" />
                                          <Label alignment="CENTER_RIGHT" prefHeight="17.0" prefWidth="198.0" style="-fx-font-size: 12px;" text="Search Window Width (Pixel):" GridPane.rowIndex="1" />
                                          <Label alignment="CENTER_RIGHT" prefHeight="17.0" prefWidth="197.0" style="-fx-font-size: 12px;" text="Constrain Radius (Pixel):" GridPane.rowIndex="2" />
                                          <Label alignment="CENTER_RIGHT" prefHeight="22.0" prefWidth="201.0" style="-fx-font-size: 12px;" text="Max Motion Between Frames (Pixel):" GridPane.rowIndex="3" />
                                          <TextField fx:id="textfiled_max_drift" alignment="CENTER" prefHeight="25.0" prefWidth="148.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                                          <TextField fx:id="textfiled_constrain_radius" alignment="CENTER" prefHeight="25.0" prefWidth="147.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                          <TextField fx:id="textfiled_searchwindow" alignment="CENTER" prefHeight="25.0" prefWidth="147.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                          <ChoiceBox fx:id="choicebox_localization_algorithm" prefHeight="25.0" prefWidth="169.0" style="-fx-font-size: 12px;" GridPane.columnIndex="1" />
                                       </children>
                                    </GridPane>
                                    <CheckBox fx:id="checkbox_apply_pillar_recontruction" layoutX="207.0" layoutY="167.0" mnemonicParsing="false" text="Restore Grid with Fourier Mask Filter?" />
                                 </children>
                              </AnchorPane>
                        </content>
                           <contextMenu>
                              <ContextMenu>
                                <items>
                                    <CheckMenuItem fx:id="checkmenu_drift_correction" mnemonicParsing="false" selected="true" text="Search Silent Pillars to Correct Drift?" />
                                    <CheckMenuItem fx:id="checkmenu_create_grid_poly_fit" mnemonicParsing="false" selected="true" text="Polynomial Fit to Create Grid?" />
                                    <CheckMenuItem fx:id="checkmenu_show_fft" mnemonicParsing="false" text="Show FFT Image?" />
                                    <CheckMenuItem fx:id="checkmenu_show_recontruction" mnemonicParsing="false" selected="true" text="Show Reconstructed Pillars?" />
                                    <SeparatorMenuItem mnemonicParsing="false" />
                                  <MenuItem mnemonicParsing="false" onAction="#handleMenuResetParameters" text="Reset Tracking Parameters" />
                                    <MenuItem mnemonicParsing="false" onAction="#handleMenuSaveCurrentSettings" text="Save Current Parameters" />
                                    <SeparatorMenuItem mnemonicParsing="false" />
                                    <MenuItem mnemonicParsing="false" onAction="#handleMenuComputeDrift" text="Compute Drift &amp; Stabilize" />
                                    <MenuItem mnemonicParsing="false" onAction="#handleButtonComputeDriftPhaseDiff" text="Compute Drift by phase difference" visible="false" />
                                </items>
                              </ContextMenu>
                           </contextMenu>
                      </TitledPane>
                     </children>
                  </AnchorPane>
            </content>
          </Tab>
            <Tab style="-fx-font-size: 12px;" text="Drift Analysis">
              <content>
                <AnchorPane fx:id="tab_drift" minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <HBox alignment="CENTER" layoutX="17.0" layoutY="8.0" spacing="3.0">
                           <children>
                              <Label layoutX="17.0" layoutY="12.0" style="-fx-font-size: 12px;" text="Binary File Path:" />
                              <TextField fx:id="textfile_drift_fname" layoutX="109.0" layoutY="8.0" prefHeight="25.0" prefWidth="374.0" style="-fx-font-size: 12px;" />
                              <Button fx:id="button_drift_file_browse" layoutX="519.0" layoutY="8.0" mnemonicParsing="false" onAction="#handleButtonBrowseDriftFile" prefHeight="25.0" prefWidth="86.0" style="-fx-font-size: 12px;" text="Browse..." />
                              <Button fx:id="button_load_file_drift" layoutX="592.0" layoutY="8.0" mnemonicParsing="false" onAction="#handleButtonLoadFileDrift" prefHeight="25.0" prefWidth="91.0" style="-fx-font-size: 12px;" text="Load File..." />
                           </children>
                        </HBox>
                      <TitledPane fx:id="accordion_drift" layoutX="14.0" layoutY="56.0" onKeyPressed="#shortcutKeyPanes" prefHeight="291.0" prefWidth="651.0" style="-fx-font-size: 12px;" text="Plot Statistic Charts for Tracks">
                        <content>
                          <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="247.0" prefWidth="649.0">
                                 <children>
                                    <HBox alignment="CENTER" layoutX="108.0" layoutY="17.0" spacing="3.0">
                                       <children>
                                          <Button fx:id="button_drift" layoutX="103.0" layoutY="15.0" mnemonicParsing="false" onAction="#handleButtonDriftAction" prefHeight="25.0" prefWidth="102.0" style="-fx-font-size: 12px;" text="Drift Curve" />
                                          <Button fx:id="button_std" layoutX="218.0" layoutY="15.0" mnemonicParsing="false" onAction="#handleButtonStd" prefHeight="25.0" prefWidth="177.0" style="-fx-font-size: 12px;" text="Basic Statistic for Pillars" />
                                          <Button fx:id="button_hist" layoutX="387.0" layoutY="15.0" mnemonicParsing="false" onAction="#handleButtonHist" prefHeight="25.0" prefWidth="133.0" style="-fx-font-size: 12px;" text="Histogram of STD" />
                                          <Button fx:id="button_hunt_cu" mnemonicParsing="false" onAction="#handleButtonHuntCU" prefHeight="25.0" prefWidth="101.0" style="-fx-font-size: 12px;" text="Hunt CU" visible="false" />
                                       </children>
                                    </HBox>
                                    <Button fx:id="button_tracks_map" layoutX="291.0" layoutY="127.0" mnemonicParsing="false" onAction="#handleButtonTracksMap" prefHeight="25.0" prefWidth="187.0" style="-fx-font-size: 12px;" text="Draw Tracks" />
                                    <HBox alignment="CENTER" layoutX="34.0" layoutY="63.0">
                                       <children>
                                          <Label layoutX="37.0" layoutY="67.0" style="-fx-font-size: 12px;" text="Zoom-In Tracks (X):" />
                                          <Slider fx:id="slider_zoomin_tracks" blockIncrement="1.0" layoutX="147.0" layoutY="69.0" min="1.0" minorTickCount="5" prefHeight="24.0" prefWidth="295.0" style="-fx-font-size: 12px;" value="15.0" />
                                          <TextField fx:id="textfield_zoomin_tracks" alignment="CENTER" editable="false" layoutX="431.0" layoutY="63.0" prefHeight="25.0" prefWidth="45.0" style="-fx-font-size: 12px;" text="15" />
                                       </children>
                                    </HBox>
                                    <Separator layoutX="-2.0" layoutY="52.0" prefHeight="5.0" prefWidth="651.0" />
                                    <HBox alignment="CENTER" layoutX="34.0" layoutY="94.0">
                                       <children>
                                          <Label layoutX="37.0" layoutY="98.0" text="Zoom-In Image (X):" />
                                          <Slider fx:id="slider_zoomin_images" blockIncrement="1.0" layoutX="148.0" layoutY="99.0" majorTickUnit="10.0" max="20.0" min="1.0" minorTickCount="5" prefHeight="24.0" prefWidth="295.0" style="-fx-font-size: 12px;" value="6.0" />
                                          <TextField fx:id="textfield_zoomin_images" alignment="CENTER" editable="false" layoutX="431.0" layoutY="94.0" prefHeight="25.0" prefWidth="45.0" text="6" />
                                       </children>
                                    </HBox>
                                    <CheckBox fx:id="checkbox_flatten" layoutX="500.0" layoutY="97.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Flatten RGB?" />
                                    <CheckBox fx:id="checkbox_show_labels" layoutX="501.0" layoutY="131.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Show Labels?" />
                                    <Separator layoutX="-2.0" layoutY="159.0" prefHeight="11.0" prefWidth="651.0" />
                                    <HBox alignment="CENTER" layoutX="223.0" layoutY="219.0" spacing="10.0">
                                       <children>
                                          <Button fx:id="button_plot_pair_seperation" layoutX="218.0" layoutY="201.0" mnemonicParsing="false" onAction="#handleButtonPlotPairSepartion" prefHeight="25.0" prefWidth="142.0" style="-fx-font-size: 12px;" text="Plot Pair Distance" />
                                          <Button fx:id="button_draw_list_pillars" layoutX="349.0" layoutY="201.0" mnemonicParsing="false" onAction="#handleButtonDrawListPillars" prefHeight="25.0" prefWidth="139.0" style="-fx-font-size: 12px;" text="Draw Pillars List" />
                                          <Button fx:id="button_create_movie_drift" mnemonicParsing="false" onAction="#handleButtonCreateTiffMovieDrift" prefHeight="25.0" prefWidth="113.0" style="-fx-font-size: 12px;" text="Create Movie" />
                                       </children>
                                    </HBox>
                                    <CheckBox fx:id="checkbox_raw" layoutX="14.0" layoutY="21.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Raw data?" />
                                    <CheckBox fx:id="checkbox_still_pillars" layoutX="500.0" layoutY="67.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Show Trivial Pillars?" />
                                    <HBox alignment="CENTER" layoutX="16.0" layoutY="128.0">
                                       <children>
                                          <Label layoutX="176.0" layoutY="169.0" style="-fx-font-size: 12px;" text="Frames Window:" />
                                          <TextField fx:id="textfield_frame_window" layoutX="273.0" layoutY="165.0" prefHeight="25.0" prefWidth="62.0" style="-fx-font-size: 12px;" text="50" />
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER" layoutX="12.0" layoutY="180.0">
                                       <children>
                                          <Label layoutX="14.0" layoutY="199.0" style="-fx-font-size: 12px;" text="Frame ID:" />
                                          <TextField fx:id="textfield_frame_no_drift" alignment="CENTER" layoutX="475.0" layoutY="196.0" prefHeight="25.0" prefWidth="63.0" style="-fx-font-size: 12px;" text="1" />
                                          <Slider fx:id="slider_frame_no_drift" blockIncrement="1.0" layoutX="90.0" layoutY="201.0" majorTickUnit="20.0" min="1.0" minorTickCount="5" prefHeight="14.0" prefWidth="430.0" style="-fx-font-size: 12px;" value="1.0" />
                                          <Button layoutX="542.0" layoutY="195.0" mnemonicParsing="false" onAction="#handleButtonGetDataFrameDrift" prefHeight="25.0" prefWidth="82.0" style="-fx-font-size: 12px;" text="Get Data" />
                                       </children>
                                    </HBox>
                                    <Slider fx:id="slider_pillar_no_drift" blockIncrement="1.0" layoutX="255.0" layoutY="133.0" majorTickUnit="20.0" min="1.0" minorTickCount="5" prefHeight="14.0" prefWidth="51.0" style="-fx-font-size: 12px;" value="1.0" visible="false" />
                                    <HBox alignment="CENTER" layoutX="16.0" layoutY="219.0">
                                       <children>
                                          <Label layoutX="14.0" layoutY="199.0" style="-fx-font-size: 12px;" text="Pillar ID:" />
                                          <TextField fx:id="textfield_pillar_no_drift" alignment="CENTER" layoutX="475.0" layoutY="196.0" prefHeight="25.0" prefWidth="63.0" style="-fx-font-size: 12px;" text="1" />
                                          <Button fx:id="button_defelction_drift" layoutX="542.0" layoutY="195.0" mnemonicParsing="false" onAction="#handleButtonGetDataPillarDrift" prefHeight="25.0" prefWidth="82.0" style="-fx-font-size: 12px;" text="Get Data" />
                                       </children>
                                    </HBox>
                                 </children>
                              </AnchorPane>
                        </content>
                           <contextMenu>
                              <ContextMenu>
                                <items>
                                    <CheckMenuItem fx:id="checkbox_shownin" mnemonicParsing="false" text="Draw in Selected Image?" />
                                    <CheckMenuItem fx:id="checkbox_show_track_head" mnemonicParsing="false" text="Draw Track Head?" />
                                    <Menu mnemonicParsing="false" text="Plot Pillar's Deflections">
                                      <items>
                                        <MenuItem mnemonicParsing="false" onAction="#handleMenuPlotPillarDXYDrift" text="Vector (X,Y)" />
                                          <MenuItem mnemonicParsing="false" onAction="#handleMenuPlotPillarDeflectionDrift" text="Magnitude" />
                                      </items>
                                    </Menu>
                                    <MenuItem mnemonicParsing="false" onAction="#handleButtonGetPillarsList" text="List the Shown Pillars" />
                                  <MenuItem mnemonicParsing="false" onAction="#handleButtonGetALLDataFramesDrift" text="Get ROI Data for ALL Frames" />
                                    <MenuItem fx:id="meun_export_grid_format" mnemonicParsing="false" onAction="#handleExportButtonAction" text="Export to Grid Format" />
                                </items>
                              </ContextMenu>
                           </contextMenu>
                      </TitledPane>
                        <Label fx:id="label_drift_load_info" layoutX="17.0" layoutY="39.0" style="-fx-font-size: 12px;" text="???" />
                     </children>
                  </AnchorPane>
              </content>
            </Tab>
            <Tab style="-fx-font-size: 12px;" text="Grid Analysis">
              <content>
                <AnchorPane fx:id="tab_grid" minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <TitledPane fx:id="accordion_grid" layoutX="12.0" layoutY="58.0" onKeyPressed="#shortcutKeyPanes" prefHeight="269.0" prefWidth="650.0" style="-fx-font-size: 12px;" text="Plot Deflections for Each Frame">
                           <content>
                              <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="221.0" prefWidth="648.0">
                                 <children>
                                    <Button fx:id="button_deflection_map" layoutX="307.0" layoutY="109.0" mnemonicParsing="false" onAction="#handleButtonDeflectionMap" prefHeight="25.0" prefWidth="181.0" style="-fx-font-size: 12px;" text="Draw Deflections" />
                                    <HBox alignment="CENTER" layoutX="38.0" layoutY="66.0">
                                       <children>
                                          <Label layoutX="37.0" layoutY="67.0" style="-fx-font-size: 12px;" text="Zoom-In Arrow (X):" />
                                          <Slider fx:id="slider_zoomin_deflection" blockIncrement="1.0" layoutX="147.0" layoutY="69.0" min="1.0" minorTickCount="5" prefHeight="24.0" prefWidth="302.0" style="-fx-font-size: 12px;" value="15.0" />
                                          <TextField fx:id="textfield_zoomin_deflection" alignment="CENTER" editable="false" layoutX="431.0" layoutY="63.0" prefHeight="25.0" prefWidth="46.0" style="-fx-font-size: 12px;" text="15" />
                                       </children>
                                    </HBox>
                                    <Separator layoutX="-2.0" layoutY="48.0" prefHeight="9.0" prefWidth="650.0" />
                                    <HBox alignment="CENTER" layoutX="37.0" layoutY="90.0" visible="false">
                                       <children>
                                          <Label layoutX="37.0" layoutY="98.0" style="-fx-font-size: 12px;" text="Zoom-In Image (X):" />
                                          <Slider fx:id="slider_zoomin_image_grid" blockIncrement="1.0" layoutX="148.0" layoutY="99.0" majorTickUnit="10.0" max="20.0" min="1.0" minorTickCount="5" prefHeight="24.0" prefWidth="301.0" style="-fx-font-size: 12px;" value="1.0" />
                                          <TextField fx:id="textfield_zoomin_image_grid" alignment="CENTER" editable="false" layoutX="431.0" layoutY="94.0" prefHeight="25.0" prefWidth="47.0" style="-fx-font-size: 12px;" text="1" />
                                       </children>
                                    </HBox>
                                    <CheckBox fx:id="checkbox_show_labels_grid" allowIndeterminate="true" layoutX="505.0" layoutY="113.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Show Labels?" />
                                    <HBox alignment="CENTER" layoutX="21.0" layoutY="166.0">
                                       <children>
                                          <Label layoutX="20.0" layoutY="194.0" style="-fx-font-size: 12px;" text="Frame ID:" />
                                          <TextField fx:id="textfield_frame_no_grid" alignment="CENTER" layoutX="514.0" layoutY="190.0" prefHeight="25.0" prefWidth="57.0" style="-fx-font-size: 12px;" text="1" />
                                          <Slider fx:id="slider_frame_no_grid" blockIncrement="1.0" layoutX="96.0" layoutY="196.0" majorTickUnit="20.0" min="1.0" minorTickCount="5" prefHeight="14.0" prefWidth="418.0" style="-fx-font-size: 12px;" value="1.0" />
                                          <Button fx:id="button_get_data_frame" layoutX="571.0" layoutY="190.0" mnemonicParsing="false" onAction="#handleButtonGetDataFrame" prefHeight="25.0" prefWidth="79.0" style="-fx-font-size: 12px;" text="Get Data" />
                                       </children>
                                    </HBox>
                                    <Separator layoutX="-2.0" layoutY="153.0" prefHeight="7.0" prefWidth="650.0" />
                                    <HBox layoutX="25.0" layoutY="14.0" spacing="10.0">
                                       <children>
                                          <HBox alignment="CENTER" layoutX="11.0" layoutY="14.0">
                                             <children>
                                                <Label layoutX="11.0" layoutY="18.0" style="-fx-font-size: 12px;" text="Crosshair:" />
                                                <ChoiceBox fx:id="choice_crosshair" layoutX="67.0" layoutY="14.0" prefHeight="25.0" prefWidth="39.0" style="-fx-font-size: 12px;" />
                                                <ColorPicker fx:id="color_crosshair" editable="true" layoutX="147.0" layoutY="14.0" prefHeight="25.0" prefWidth="100.0" style="-fx-font-size: 12px;" />
                                             </children>
                                          </HBox>
                                          <HBox alignment="CENTER" layoutX="223.0" layoutY="14.0">
                                             <children>
                                                <Label layoutX="272.0" layoutY="18.0" style="-fx-font-size: 12px;" text="Arrows:" />
                                                <ChoiceBox fx:id="choice_arrows" layoutX="309.0" layoutY="14.0" prefHeight="25.0" prefWidth="38.0" style="-fx-font-size: 12px;" />
                                                <ColorPicker fx:id="color_arrows" editable="true" layoutX="363.0" layoutY="14.0" prefHeight="25.0" prefWidth="100.0" style="-fx-font-size: 12px;" />
                                             </children>
                                          </HBox>
                                          <HBox alignment="CENTER" layoutX="424.0" layoutY="14.0">
                                             <children>
                                                <Label layoutX="454.0" layoutY="18.0" style="-fx-font-size: 12px;" text="Labels:" />
                                                <ChoiceBox fx:id="choice_labels" layoutX="496.0" layoutY="14.0" prefHeight="25.0" prefWidth="39.0" style="-fx-font-size: 12px;" />
                                                <ColorPicker fx:id="color_labels" editable="true" layoutX="542.0" layoutY="14.0" prefHeight="25.0" prefWidth="100.0" style="-fx-font-size: 12px;" />
                                             </children>
                                          </HBox>
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER" layoutX="27.0" layoutY="200.0" prefHeight="25.0" prefWidth="182.0">
                                       <children>
                                          <Label layoutX="28.0" layoutY="227.0" style="-fx-font-size: 12px;" text="Pillar ID:" />
                                          <TextField fx:id="textfield_pillar_no_grid" alignment="CENTER" layoutX="514.0" layoutY="223.0" prefHeight="25.0" prefWidth="57.0" style="-fx-font-size: 12px;" text="1" />
                                          <Button fx:id="button_get_data_pillar" layoutX="570.0" layoutY="223.0" mnemonicParsing="false" onAction="#handleButtonGetDataPillar" prefHeight="25.0" prefWidth="79.0" style="-fx-font-size: 12px;" text="Get Data" />
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER" layoutX="251.0" layoutY="200.0" prefHeight="25.0" prefWidth="380.0" spacing="5.0">
                                       <children>
                                          <Button fx:id="button_recreate_grid" layoutX="254.0" layoutY="230.0" mnemonicParsing="false" onAction="#handleButtonReCreateGrid" prefHeight="25.0" prefWidth="121.0" style="-fx-font-size: 12px;" text="Refine Grid" />
                                          <Button mnemonicParsing="false" onAction="#handleButtonHighlightListPillars" prefHeight="25.0" prefWidth="121.0" style="-fx-font-size: 12px;" text="Highlight Pillars" />
                                          <Button fx:id="button_create_tiff_movie" layoutX="490.0" layoutY="230.0" mnemonicParsing="false" onAction="#handleButtonCreateTiffMovie" prefHeight="25.0" prefWidth="136.0" style="-fx-font-size: 12px;" text="Create Movie" />
                                       </children>
                                    </HBox>
                                    <CheckBox fx:id="checkbox_show_linegrid" layoutX="505.0" layoutY="94.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Show Line Grid?" visible="false" />
                                    <HBox alignment="CENTER" layoutX="101.0" layoutY="78.0" spacing="10.0" />
                                    <HBox alignment="CENTER" layoutX="27.0" layoutY="109.0">
                                       <children>
                                          <CheckBox fx:id="checkbox_remove_large" layoutX="14.0" layoutY="234.0" mnemonicParsing="false" style="-fx-font-size: 12px;" text="Hide Large Deflections (nm)?" />
                                          <TextField fx:id="textfield_large_threshold" layoutX="202.0" layoutY="230.0" prefHeight="25.0" prefWidth="57.0" style="-fx-font-size: 12px;" />
                                       </children>
                                    </HBox>
                                    <Slider fx:id="slider_pillar_no_grid" blockIncrement="1.0" layoutX="240.0" layoutY="128.0" majorTickUnit="20.0" min="1.0" minorTickCount="5" prefHeight="16.0" prefWidth="0.0" style="-fx-font-size: 12px;" value="1.0" visible="false" />
                                    <Button fx:id="button_hunt_cu_grid" layoutX="505.0" layoutY="66.0" mnemonicParsing="false" onAction="#handleButtonHuntCUGrid" prefHeight="25.0" prefWidth="123.0" style="-fx-font-size: 12px;" text="Hunt CU" />
                                 </children>
                              </AnchorPane>
                           </content>
                           <contextMenu>
                              <ContextMenu>
                                <items>
                                    <CheckMenuItem fx:id="checkbox_shownin_grid" mnemonicParsing="false" text="Draw in Selected Image?" />
                                    <MenuItem mnemonicParsing="false" onAction="#handleButtonShowLineGrid" text="Draw Lines for the Grid" />
                                    <Menu mnemonicParsing="false" text="Plot Pillar's Deflection">
                                      <items>
                                        <MenuItem mnemonicParsing="false" onAction="#handleMenuPlotPillarDXY" text="Vector (X, Y)" />
                                          <MenuItem mnemonicParsing="false" onAction="#handleMenuPlotPillarDeflection" text="Magnitude" />
                                      </items>
                                    </Menu>
                                  <MenuItem mnemonicParsing="false" onAction="#handleMenuHuntCUFrameGrid" text="Hunt CU for Individual Frame" visible="false" />
                                    <MenuItem mnemonicParsing="false" onAction="#handleButtonGetDataALLFrames" text="Get ROI Data for ALL frames" />
                                </items>
                              </ContextMenu>
                           </contextMenu>
                        </TitledPane>
                        <HBox alignment="CENTER" layoutX="14.0" layoutY="10.0" spacing="3.0">
                           <children>
                              <Label layoutX="14.0" layoutY="14.0" style="-fx-font-size: 12px;" text="Grid Binary File:" />
                              <TextField fx:id="textfile_grid_fname" layoutX="105.0" layoutY="10.0" prefHeight="25.0" prefWidth="385.0" style="-fx-font-size: 12px;" />
                              <Button fx:id="button_grid_file_browse" layoutX="525.0" layoutY="10.0" mnemonicParsing="false" onAction="#handleButtonBrowseGridFile" prefHeight="25.0" prefWidth="84.0" style="-fx-font-size: 12px;" text="Browse..." />
                              <Button fx:id="button_load_file_grid" layoutX="595.0" layoutY="10.0" mnemonicParsing="false" onAction="#handleButtonLoadFileGrid" prefHeight="25.0" prefWidth="87.0" style="-fx-font-size: 12px;" text="Load File..." />
                           </children>
                        </HBox>
                        <Label fx:id="label_grid_load_info" layoutX="14.0" layoutY="41.0" style="-fx-font-size: 12px;" text="???" />
                     </children>
                  </AnchorPane>
              </content>
            </Tab>
            <Tab style="-fx-font-size: 12px;" text="About PillarTracker">
              <content>
                <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <VBox alignment="CENTER" layoutX="177.0" layoutY="136.0" prefHeight="101.0" prefWidth="309.0" AnchorPane.bottomAnchor="136.0" AnchorPane.leftAnchor="180.0" AnchorPane.rightAnchor="180.0" AnchorPane.topAnchor="136.0">
                           <children>
                              <Hyperlink fx:id="link_mbi" contentDisplay="GRAPHIC_ONLY" layoutX="290.0" layoutY="206.0" style="-fx-font-size: 12px;" text="mbi_hyper_link" />
                              <Hyperlink fx:id="link_update_gpu_lib" style="-fx-font-size: 12px;" text="Update Libraries for GPU Acceleration" />
                              <Hyperlink fx:id="link_version" style="-fx-font-size: 12px;" text="Version" />
                              <Hyperlink fx:id="link_copyright" layoutX="244.0" layoutY="276.0" style="-fx-font-size: 12px;" text="Copyright Resvered" />
                              <Label style="-fx-font-size: 12px;" text="MR Xu Xiaochun (mbixxc@nus.edu.sg)" wrapText="true" />
                              <Label layoutX="24.0" layoutY="78.0" style="-fx-font-size: 12px;" text="DR Felix Martin Margadant (mbifmm@nus.edu.sg)" wrapText="true" />
                           </children>
                        </VBox>
                     </children>
                  </AnchorPane>
              </content>
            </Tab>
        </tabs>
      </TabPane>
   </children>
</TilePane>
